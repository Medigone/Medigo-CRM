[
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-05 15:57:00.914568",
  "module": "CRM Medigo",
  "name": "Visite commerciale - Heure debut",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visite Commerciale",
  "script": "if doc.workflow_state == 'En Cours'and not doc.heure_debut_visite:\n    doc.heure_debut_visite = frappe.utils.now()\n  ",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-05 15:55:38.683005",
  "module": "CRM Medigo",
  "name": "Visite Commerciale - Heure fin visite",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visite Commerciale",
  "script": "if doc.workflow_state == 'Terminée' and not doc.heure_fin_visite:\n    doc.heure_fin_visite = frappe.utils.now()\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-22 18:43:33.135988",
  "module": "CRM Medigo",
  "name": "Date visite service",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visites Services",
  "script": "if doc.workflow_state == 'Terminée':\n    doc.date_visite = frappe.utils.today()\n    \n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-09 19:23:58.917870",
  "module": "CRM Medigo",
  "name": "Date visite individuelle",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visites Individuelles",
  "script": "if doc.workflow_state == 'Terminée':\n    doc.date_visite = frappe.utils.today()\n    \n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "Hourly",
  "modified": "2024-02-22 14:02:43.974023",
  "module": "CRM Medigo",
  "name": "Prix DD",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Item",
  "script": "price_list_name = \"DD\"  # Nom de votre liste de prix\n\n    # Récupérer le prix de l'article de la liste de prix spécifiée\nprice = frappe.db.get_value(\"Item Price\",\n                                 {\"item_code\": doc.item_code, \"price_list\": price_list_name},\n                                 \"price_list_rate\")\n\n    # Mettre à jour le champ \"prix_dd\" de l'article\ndoc.set(\"prix_dd\", price)\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "Hourly",
  "modified": "2024-02-22 14:02:31.854743",
  "module": "CRM Medigo",
  "name": "Prix Gros",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Item",
  "script": "price_list_name = \"Gros\"  # Nom de votre liste de prix\n\n    # Récupérer le prix de l'article de la liste de prix spécifiée\nprice = frappe.db.get_value(\"Item Price\",\n                                 {\"item_code\": doc.item_code, \"price_list\": price_list_name},\n                                 \"price_list_rate\")\n\n    # Mettre à jour le champ \"prix_dd\" de l'article\ndoc.set(\"prix_gros\", price)\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-09 19:24:41.224448",
  "module": "CRM Medigo",
  "name": "Visite medicale ind - Heure debut",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visites Individuelles",
  "script": "if doc.workflow_state == 'En Cours'and not doc.heure_debut_visite:\n    doc.heure_debut_visite = frappe.utils.now()",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-09 19:31:38.931338",
  "module": "CRM Medigo",
  "name": "Visite medicale ind - Heure fin visite",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visites Individuelles",
  "script": "if doc.workflow_state == 'Terminée' and not doc.heure_fin_visite:\n    doc.heure_fin_visite = frappe.utils.now()",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-09 20:11:14.251164",
  "module": "CRM Medigo",
  "name": "Visite medicale ser - Heure debut",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visites Services",
  "script": "if doc.workflow_state == 'En Cours'and not doc.heure_debut_visite:\n    doc.heure_debut_visite = frappe.utils.now()",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-09 20:12:13.772435",
  "module": "CRM Medigo",
  "name": "Visite medicale ser - Heure fin visite",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visites Services",
  "script": "if doc.workflow_state == 'Terminée' and not doc.heure_fin_visite:\n    doc.heure_fin_visite = frappe.utils.now()",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-21 19:57:50.990079",
  "module": "CRM Medigo",
  "name": "Visite commerciale Duo - Heure debut",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visite Commerciale Duo",
  "script": "if doc.workflow_state == 'En Cours'and not doc.heure_debut_visite:\n    doc.heure_debut_visite = frappe.utils.now()\n  ",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-21 19:58:52.373171",
  "module": "CRM Medigo",
  "name": "Visite Commerciale Duo - Heure fin visite",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visite Commerciale Duo",
  "script": "if doc.workflow_state == 'Terminée' and not doc.heure_fin_visite:\n    doc.heure_fin_visite = frappe.utils.now()",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-21 19:59:24.742668",
  "module": "CRM Medigo",
  "name": "Visite Commerciale Manager - Heure fin visite",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visite Commerciale Manager",
  "script": "if doc.workflow_state == 'Terminée' and not doc.heure_fin_visite:\n    doc.heure_fin_visite = frappe.utils.now()",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-21 19:59:52.979691",
  "module": "CRM Medigo",
  "name": "Visite commerciale Manager - Heure debut",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Visite Commerciale Manager",
  "script": "if doc.workflow_state == 'En Cours'and not doc.heure_debut_visite:\n    doc.heure_debut_visite = frappe.utils.now()\n  ",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 00:19:39.771579",
  "module": "CRM Medigo",
  "name": "Nom Complet",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "nom = doc.nom or ''\nprenom = doc.prenom or ''\nnom_complet = f'{nom} {prenom}'.strip()  # Supprime les espaces inutiles si l'un est vide\n\n# Mise à jour du champ 'nom_complet'\ndoc.nom_complet = nom_complet\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Validate",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 20:28:03.665313",
  "module": "CRM Medigo",
  "name": "Total Points",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "total = 0\n# Boucle pour additionner les valeurs de p_q1 à p_q20\nfor i in range(1, 21):\n    field_name = f'p_q{i}'\n    total += doc.get(field_name, 0)  # Utiliser doc.get pour éviter les KeyError si le champ est vide\n\ndoc.total_points = total  # Affecter la somme au champ total_points\ndoc.save()  # Sauvegarder le document pour enregistrer les modifications\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.395224",
  "module": "CRM Medigo",
  "name": "Q1",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q1 = 0\n\n# Calculer les points pour la question 1\nif doc.q_1_r_1 == 1 and doc.q_1_r_2 == 0 and doc.q_1_r_3 == 0:\n    doc.p_q1 = 1\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.237892",
  "module": "CRM Medigo",
  "name": "Q2",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q2 = 0\n\n    # Calculer les points pour la question 2\nif doc.q_2_r_1 == 1 and doc.q_2_r_2 == 1 and doc.q_2_r_3 == 1:\n    doc.p_q2 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.195435",
  "module": "CRM Medigo",
  "name": "Q3",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q3 = 0\n\n    # Calculer les points pour la question 3\nif doc.q_3_r_1 == 0 and doc.q_3_r_2 == 1 and doc.q_3_r_3 == 0:\n    doc.p_q3 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.175053",
  "module": "CRM Medigo",
  "name": "Q4",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q4 = 0\n\n    # Calculer les points pour la question 4\nif doc.q_4_r_1 == 0 and doc.q_4_r_2 == 0 and doc.q_4_r_3 == 1:\n    doc.p_q4 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.160633",
  "module": "CRM Medigo",
  "name": "Q5",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q5 = 0\n\n    # Calculer les points pour la question 5\nif doc.q_5_r_1 == 0 and doc.q_5_r_2 == 1 and doc.q_5_r_3 == 0:\n    doc.p_q5 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.143933",
  "module": "CRM Medigo",
  "name": "Q6",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q6 = 0\n\n    # Calculer les points pour la question 6\nif doc.q_6_r_1 == 1 and doc.q_6_r_2 == 0 and doc.q_6_r_3 == 1:\n    doc.p_q6 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.124221",
  "module": "CRM Medigo",
  "name": "Q7",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q7 = 0\n\n    # Calculer les points pour la question 7\nif doc.q_7_r_1 == 1 and doc.q_7_r_2 == 1 and doc.q_7_r_3 == 0:\n    doc.p_q7 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.104292",
  "module": "CRM Medigo",
  "name": "Q8",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q8 = 0\n\n    # Calculer les points pour la question 8\nif doc.q_8_r_1 == 1 and doc.q_8_r_2 == 1 and doc.q_8_r_3 == 0:\n    doc.p_q8 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.071519",
  "module": "CRM Medigo",
  "name": "Q9",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q9 = 0\n\n    # Calculer les points pour la question 9\nif doc.q_9_r_1 == 0 and doc.q_9_r_2 == 0 and doc.q_9_r_3 == 1:\n    doc.p_q9 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.381850",
  "module": "CRM Medigo",
  "name": "Q10",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q10 = 0\n\n    # Calculer les points pour la question 10\nif doc.q_10_r_1 == 1 and doc.q_10_r_2 == 1 and doc.q_10_r_3 == 0:\n    doc.p_q10 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.369022",
  "module": "CRM Medigo",
  "name": "Q11",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q11 = 0\n\n    # Calculer les points pour la question 11\nif doc.q_11_r_1 == 1 and doc.q_11_r_2 == 1 and doc.q_11_r_3 == 1:\n    doc.p_q11 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.356095",
  "module": "CRM Medigo",
  "name": "Q12",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q12 = 0\n\n    # Calculer les points pour la question 12\nif doc.q_12_r_1 == 0 and doc.q_12_r_2 == 0 and doc.q_12_r_3 == 1:\n    doc.p_q12 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.340073",
  "module": "CRM Medigo",
  "name": "Q13",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q13 = 0\n\n    # Calculer les points pour la question 13\nif doc.q_13_r_1 == 1 and doc.q_13_r_2 == 1 and doc.q_13_r_3 == 1:\n    doc.p_q13 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.326227",
  "module": "CRM Medigo",
  "name": "Q14",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q14 = 0\n\n    # Calculer les points pour la question 14\nif doc.q_14_r_1 == 0 and doc.q_14_r_2 == 1 and doc.q_14_r_3 == 0:\n    doc.p_q14 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.304127",
  "module": "CRM Medigo",
  "name": "Q15",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q15 = 0\n\n    # Calculer les points pour la question 15\nif doc.q_15_r_1 == 0 and doc.q_15_r_2 == 1 and doc.q_15_r_3 == 0:\n    doc.p_q15 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.292047",
  "module": "CRM Medigo",
  "name": "Q16",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q16 = 0\n\n    # Calculer les points pour la question 16\nif doc.q_16_r_1 == 0 and doc.q_16_r_2 == 1 and doc.q_16_r_3 == 0:\n    doc.p_q16 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.276907",
  "module": "CRM Medigo",
  "name": "Q17",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q17 = 0\n\n    # Calculer les points pour la question 17\nif doc.q_17_r_1 == 1 and doc.q_17_r_2 == 0 and doc.q_17_r_3 == 1:\n    doc.p_q17 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.263731",
  "module": "CRM Medigo",
  "name": "Q18",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q18 = 0\n\n    # Calculer les points pour la question 18\nif doc.q_18_r_1 == 1 and doc.q_18_r_2 == 1 and doc.q_18_r_3 == 1:\n    doc.p_q18 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.250092",
  "module": "CRM Medigo",
  "name": "Q19",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q19 = 0\n\n    # Calculer les points pour la question 19\nif doc.q_19_r_1 == 0 and doc.q_19_r_2 == 1 and doc.q_19_r_3 == 1:\n    doc.p_q19 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.216663",
  "module": "CRM Medigo",
  "name": "Q20",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "doc.p_q20 = 0\n\n    # Calculer les points pour la question 20\nif doc.q_20_r_1 == 1 and doc.q_20_r_2 == 1 and doc.q_20_r_3 == 1:\n    doc.p_q20 = 1\n\n    # Vous pouvez ajouter d'autres conditions ici pour d'autres questions\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 19:53:29.052447",
  "module": "CRM Medigo",
  "name": "Test",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "\n        # Initialiser tous les p_qX à 0\nfor i in range(1, 21):\n    self.set(f'p_q{i}', 0)\n\n        # Logique pour calculer les points pour chaque question\n        # Exemple pour la question 1\nif self.q_1_r_1 == 1 and self.q_1_r_2 == 0 and self.q_1_r_3 == 0:\n    self.p_q1 = 1\n\n        # Répéter la logique ci-dessus pour les autres questions...\n\n        # Calculer le total des points\ntotal_points = 0\nfor i in range(1, 21):\n    total_points += getattr(self, f'p_q{i}', 0)\n\n        # Mettre à jour le champ total_points avec la somme calculée\nself.total_points = total_points",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "After Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-02-29 21:00:20.522575",
  "module": "CRM Medigo",
  "name": "Calcul Total New Doc",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Africa Pass JPIM Dakar 2024",
  "script": "# Exemple : Calculer la somme des points et mettre à jour le champ total_points\ntotal_points = 0\nfor i in range(1, 21):\n    field_name = f'p_q{i}'\n    value = doc.get(field_name) or 0\n    total_points += int(value)\n\ndoc.total_points = total_points\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 1,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "After Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-03-04 11:13:28.992690",
  "module": "CRM Medigo",
  "name": "Mise à jour quantité atteinte",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Sales Order",
  "script": "if doc.docstatus == 1:  # Vérifie si la Sales Order est soumise\n    sales_orders = frappe.get_list(\"Sales Order Item\", fields=[\"parent\", \"qty\"], filters={\"parent\": doc.name, \"docstatus\": 1})\n    total_qty = sum(item.qty for item in sales_orders)  # Calcule la quantité totale de la commande\n\n    objectifs = frappe.get_all(\"Objectifs Commerciaux\", filters={\n        \"delegue\": doc.owner,  # Assurez-vous que le nom du champ correspond à votre configuration\n        \"date_debut\": [\"<=\", doc.transaction_date],\n        \"date_fin\": [\">=\", doc.transaction_date]\n    })\n\n    for objectif in objectifs:\n        obj = frappe.get_doc(\"Objectifs Commerciaux\", objectif.name)\n        obj.qua_att = obj.qua_att + total_qty  # Assignation explicite\n        obj.pour_att = (obj.qua_att / obj.qua_obj) * 100 if obj.qua_obj else 0\n        obj.save()\n",
  "script_type": "DocType Event"
 }
]